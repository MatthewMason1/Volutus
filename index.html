<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-image: url('https://flipanim.com/gfx/noise.png');
      background-color: #b9d1e0;
      overflow: hidden;
    }

    #logo {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
      position: absolute;
      top: 50px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1;
    }

    #container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background-color: #def1fa;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      padding: 20px;
      z-index: 1;
    }

    #toolbar {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
    }

    #toolbar button {
      margin-right: 5px;
      border-radius: 5px;
      box-shadow: 0 4px 2px rgba(31, 95, 97, 0.452);
      background-color: #ddf6f7;
    }

    #toolbar button:focus {
      outline: none;
    }

    #canvasContainer {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      position: relative;
    }

    #canvas {
      border: 1px solid #000;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(72, 114, 119, 0.212);
      background-color: #fff;
    }

    #previewCanvas {
      border: 1px solid #000;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-top: 10px;
      background-color: #fff;
    }

    #frameCount {
      font-size: 12px;
      margin-top: 5px;
      color: #242c29;
    }

    button {
      margin: 5px;
      width: 40px;
      height: 40px;
      border: none;
      background-color: transparent;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: transform 0.2s, box-shadow 0.2s;
      color: #6c7a75;
      position: relative;
    }

    button:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    button:active {
      transform: scale(0.9);
    }

    .active {
      filter: brightness(0.8);
    }

    .tooltip {
      display: none;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #000;
      color: #fff;
      padding: 3px 6px;
      border-radius: 3px;
      font-size: 12px;
      z-index: 2;
    }

    button:hover .tooltip {
      display: block;
    }
  </style>
</head>
<body>
  <div id="logo">
    <img src="" alt="Logo">
  </div>

  <div id="container">
    <div id="toolbar">
      <div id="toolbar">
        <button id="drawBtn" onclick="toggleTool('draw')">
          <img src="draw_icon.png" alt="Draw" style="width: 160%; height: 110%;">
        </button>
        <button id="fillBtn" onclick="toggleTool('fill')">
          <img src="fill_icon.png" alt="Fill">
        </button>
        <button id="eraseBtn" onclick="toggleTool('erase')">
          <img src="erase_icon.png" alt="Erase" style="width: 130%; height: 130%;">
        </button>
        <button id="moveBtn" onclick="toggleTool('move')">
          <img src="move_icon.png" alt="Move">
        </button>
        <button id="deleteBtn" onclick="deleteDrawing()">
          <img src="delete_icon.png" alt="Delete">
        </button>
        <button id="saveBtn" onclick="saveDrawing()">
          <img src="save_icon.png" alt="Save">
        </button>
        <button id="importBtn" onclick="importImage()">
          <img src="import_icon.png" alt="Import">
        </button>
        <button id="imageMoveBtn" onclick="toggleTool('imageMove')">
          <img src="image_move_icon.png" alt="Image Move">
        </button>
      </div>
      
    </div>

    <div id="canvasContainer">
      <canvas id="canvas" width="600" height="400"></canvas>
      <canvas id="previewCanvas" width="120" height="80"></canvas>
      <div id="frameCount"></div>
    </div>
  </div>

  <script>
    // Global variables
let frames = [];
let currentFrame = 0;

// Canvas setup
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

// JavaScript functions for button functionality
function toggleTool(toolName) {
  const button = document.getElementById(toolName + 'Btn');
  const isActive = button.classList.contains("active");

  // Remove the active class from all buttons
  const buttons = document.querySelectorAll("#toolbar button");
  buttons.forEach((btn) => btn.classList.remove("active"));

  // Toggle the active class on the selected button
  if (!isActive) {
    button.classList.add("active");
  }
}

function deleteDrawing() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}

function saveDrawing() {
  const link = document.createElement('a');
  link.href = canvas.toDataURL();
  link.download = 'drawing.png';
  link.click();
}

function importImage() {
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = 'image/*';
  input.onchange = function (e) {
    const file = e.target.files[0];
    const reader = new FileReader();
    reader.onload = function (event) {
      const img = new Image();
      img.onload = function () {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
      };
      img.src = event.target.result;
    };
    reader.readAsDataURL(file);
  };
  input.click();
}

function addFrame() {
  const frameCanvas = document.createElement('canvas');
  frameCanvas.width = canvas.width;
  frameCanvas.height = canvas.height;
  const frameCtx = frameCanvas.getContext('2d');
  frameCtx.drawImage(canvas, 0, 0);

  frames.splice(currentFrame + 1, 0, frameCanvas);
  currentFrame++;
  updateFrameCount();
  updatePreviewCanvas();
}

function duplicateFrame() {
  const frameCanvas = document.createElement('canvas');
  frameCanvas.width = canvas.width;
  frameCanvas.height = canvas.height;
  const frameCtx = frameCanvas.getContext('2d');
  frameCtx.drawImage(canvas, 0, 0);

  frames.splice(currentFrame, 0, frameCanvas);
  currentFrame++;
  updateFrameCount();
  updatePreviewCanvas();
}

function deleteFrame() {
  if (frames.length <= 1) {
    return;
  }

  frames.splice(currentFrame, 1);
  currentFrame = Math.min(currentFrame, frames.length - 1);
  updateFrameCount();
  updatePreviewCanvas();
}

function updateFrameCount() {
  const frameCountValue = document.getElementById('frameCountValue');
  frameCountValue.textContent = frames.length;
}

function updatePreviewCanvas() {
  const previewCanvas = document.getElementById('previewCanvas');
  const previewCtx = previewCanvas.getContext('2d');

  previewCtx.clearRect(0, 0, previewCanvas.width, previewCanvas.height);

  if (frames.length > 0) {
    const frame = frames[currentFrame];
    previewCtx.drawImage(frame, 0, 0, previewCanvas.width, previewCanvas.height);
  }
}

function playAnimation() {
  // ...
}

function handleKeyPress(event) {
  if (event.key === "Enter") {
    event.target.click();
  }
}
  </script>
</body>
</html>
